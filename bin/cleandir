#!/usr/bin/env perl
use warnings;
use strict;
use open qw(:locale);
use File::Find;

foreach my $dir (@ARGV) {
    find({
        wanted => sub {
            my @lstat = lstat($_);
            return unless scalar @lstat;
            my ($dev, $ino, $mode, $nlink) = @lstat;
            return unless -d _;
            return if $nlink > 2;
            rmdir($_) or warn("$File::Find::name: $!\n");
        },
        bydepth => 1,
    }, $dir);
}
