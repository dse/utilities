#!/usr/bin/env perl
use warnings;
use strict;
local $/ = undef;
while (<>) {
    s{rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)}{sprintf("#%02x%02x%02x", $1, $2, $3)}gxe;
    s{rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+(?:\.\d*)?|\.\d+)\s*\)}{sprintf("#%02x%02x%02x%02x", $1, $2, $3, 255 * $4)}gxe;
    print;
}
